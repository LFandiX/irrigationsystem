<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drone Altitude Dashboard</title>
    <style>
        /* Gaya sederhana untuk membuatnya terlihat jelas */
        body { font-family: Arial, sans-serif; display: grid; place-items: center; min-height: 90vh; background: #f4f4f4; }
        #dashboard { text-align: center; padding: 40px; background: white; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: #333; }
        #altitude-display {
            font-size: 5rem;
            font-weight: bold;
            color: #007BFF;
            margin: 20px 0;
        }
        span { font-size: 2rem; color: #555; }
    </style>
</head>
<body>

    <div id="dashboard">
        <h1>Drone Altitude Monitor</h1>
        <div id="altitude-display">
            {{ initial_data }} <span>meter</span>
        </div>
        <p>Menunggu data real-time dari MQTT: <strong>sensors/drone01/altitude</strong></p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.4/socket.io.min.js"></script>

    <script>
        // 2. Hubungkan ke server Socket.IO kita
        const socket = io();

        // 3. Tangani event 'connect'
        socket.on('connect', () => {
            console.log('Terhubung ke server Socket.IO!');
        });

        // 4. Ini adalah bagian penting:
        //    Dengarkan event 'update_data' yang dikirim dari server (app.py)
        socket.on('update_data', (data) => {
            console.log('Menerima data baru:', data);

            // Cek apakah data ini untuk topik yang kita inginkan (opsional)
            if (data.topic === 'sensors/drone01/altitude') {
                // Update elemen HTML dengan data baru
                const display = document.getElementById('altitude-display');
                display.innerHTML = `${data.payload} <span>meter</span>`;
            }
        });

        // 5. Tangani event 'disconnect'
        socket.on('disconnect', () => {
            console.log('Koneksi Socket.IO terputus.');
        });
    </script>

</body>
</html> -->


<!DOCTYPE html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>ESP8266 LED</title>
<style>body{font-family:Arial,Helvetica,sans-serif;margin:2rem}button,a{padding:10px 16px;margin:6px;display:inline-block;text-decoration:none;border:1px solid #ccc;border-radius:8px}</style>
</head><body>
 <h2>ESP8266 LED Control</h2>
<p>Status LED sekarang: <b>ledStateText()</b></p>
<p>
  <a href='/led?state=on'><button>Nyalakan LED</button></a>
  <a href='/led?state=off'><button>Matikan LED</button></a>
</p>
<small>IP: http:// + WiFi.localIP().toString() + </small>
</body></html>